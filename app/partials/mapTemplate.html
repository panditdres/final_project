<!-- NAV BAR -->

<nav class="navbar navbar-default">
  <div class="container-fluid">
    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li><a href="#"></a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
          <a class="dropbtn" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">{{ctrl.userData.firstName}} <span class="caret"></span></a>
          <ul class="dropdown-content">
          <li><a ng-click="ctrl.defaultView()">Home</a></li>
            <li><a ng-click="ctrl.profile()">Profile</a></li>
            <li><a ui-sref="friends">Find Friends</a></li>
            <li><a ng-click="ctrl.settings()">Settings</a></li>
            <li role="separator" class="divider"></li>
            <li><a ui-sref="login" ng-click="ctrl.interact()">{{ctrl.checkMsg}}</a></li>
          </ul>
        </li>
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>

<script type="text/ng-template" id="myModalContent.html" ng-repeat="locations in ctrl.locations">
  <div class="location-info" ng-show="ctrl.locationInfo">
    <div class="modal-header">
        <h3 class="modal-title">Name: {{ctrl.locationName}}</h3>
        <button class="btn btn-primary" type="button" ng-click="ctrl.showInvite()">Invite Friends</button>
    </div>
    <div class="modal-body">
        <h4>Address: {{ctrl.locationAddress}}</h4>
        <h5>Type of field: {{ctrl.locationType}}</h5>
        <h5>Number of players: {{ctrl.locationPlayers.length}}</h5>
        <h5>players going: </h5>
        <h5 ng-repeat="players in ctrl.locationPlayers">{{players}}</h5>
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" type="button" ng-click="ctrl.incrementCounter(ctrl.locationId,ctrl.locationCounter); ctrl.addPlayer(ctrl.locationId,ctrl.user); ctrl.addPlayingLocation(ctrl.user.id,ctrl.locationId)" ng-disabled="ctrl.goBtn">Go</button>
        <button class="btn btn-warning" type="button" ng-click="ctrl.cancel(ctrl.locationId,ctrl.locationCounter); ctrl.removePlayer(ctrl.locationId,ctrl.user); ctrl.removePlayingLocation(ctrl.user.id,ctrl.locationId)" ng-disabled="ctrl.cancelBtn">Cancel</button>
    </div>
  </div>

  <div class="invite-info" ng-show="ctrl.inviteInfo">
    <div class="modal-header">
        <h3 class="modal-title">Send Invitation</h3>
    </div>
    <div class="modal-body">
        
          <div class="form-group">
              <label for="Date">Date</label>
              <!-- <md-datepicker ng-model="ctrl.eventDate" md-placeholder="Enter date"></md-datepicker> -->
              <input type="date" name="eventDate" class="form-control" ng-model="ctrl.eventDate">
          </div>
          <div class="form-group">
            <label for="Friends">Include your friends</label>
            <div>
              <button class="btn btn-primary gap" ng-repeat="friends in ctrl.friendData" ng-click="ctrl.invite(friends.id)" ng-class="{'btn-danger': ctrl.invitation.includes(friends.id)}">
                {{friends.firstName}} <i class="fa fa-plus" aria-hidden="true"></i>
              </button>
            </div>     
          </div>
        
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" type="button" ng-click="ctrl.sendInvite(ctrl.locationId,ctrl.user)" ng-disabled="">Send</button>
    </div>
  </div>
</script>

<!-- NEW SECTION -->
<button class="btn btn-primary friend-button" ng-click="ctrl.showSide()">
  <i class="fa fa-bars" aria-hidden="true"></i>
</button>

<div class="friends move" ng-show="ctrl.show" ng-class="{'move': ctrl.show}">
  <button class="btn btn-primary friend-button" ng-click="ctrl.hideSide()"">
    <i class="fa fa-bars" aria-hidden="true"></i>
  </button>
  <h1 class="center">Showing all friends</h1>
  <input ng-model="ctrl.search" type="text" class="form-control" id="search" placeholder="Search Friends">
  <hr>
  <div ng-repeat="friends in ctrl.friendData | filter:{firstName:ctrl.search}">
    {{friends.firstName}} {{friends.lastName}} 
    <hr>
  </div>
</div>



<!-- make each button toggle -->
<div ng-show="ctrl.showDefault">
  <h2>Default view</h2>
  <h4>You are playing at:</h4>
  <h5 ng-repeat="locations in ctrl.locationData">Location: {{locations.location.name}}</h5>
  <hr>
</div>

<div ng-show="ctrl.showProfile" ng-click="ctrl.profile">
  <h2>Hello {{ctrl.userData.firstName}}</h2>
  <div>
    <h4>Your history</h4>
  </div>
</div>


<div ng-show="ctrl.showSettings" ng-click="ctrl.settings">
  <h2>
    Settings
  </h2>

  <div class="panel-body">

      <form method="post" action="path/to/api" enctype="multipart/form-data">
        <input type="file" name="file">
        <button type="submit">upload file</button>
      </form>

      <form role="form" ng-submit="ctrl.editUser(ctrl.userId)">
        <div class="form-group">
              <label for="firstName">First Name</label>
              <input type="text" class="form-control" id="nameOfLocation" ng-model="ctrl.firstName" required>
        </div>
        <div class="form-group">
              <label for="lastName">Last Name</label>
              <input type="text" class="form-control" id="Latitude" ng-model="ctrl.lastName" required>
        </div>
        <div class="form-group">
              <label for="userName">Username</label>
              <input type="text" class="form-control" id="Latitude" ng-model="ctrl.userName" required>
        </div>
        <div class="form-group">
              <label for="email">Email</label>
              <input type="text" class="form-control" id="Longitude" ng-model="ctrl.email" required>
        </div>
        <div class="form-group">
              <label for="oldPassword">Old Password</label>
              <input type="password" class="form-control" id="Longitude" placeholder="Enter Old Password" ng-model="ctrl.oldPassword" required>
        </div>
        <div class="form-group">
              <label for="newPassword">New Password</label>
              <input type="password" class="form-control" id="Longitude" placeholder="Enter New Password" ng-model="ctrl.newPassword" required>
        </div>

        <button type="submit" class="btn btn-info">Submit</button>
    </form>
  </div>
</div>

